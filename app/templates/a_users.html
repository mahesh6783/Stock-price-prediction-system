{% extends 'admin_navbar.html' %}
{% load static %}
{% block content %}

<div class="path pt-4 px-4">
    <h6><a href="/admin_page/">Dashbord</a>&nbsp>&nbspUsers </h6>
</div>

<div class="container-fluid pt-3 px-4" style="position: fixed; width: 84%;   ">
    <div class="bg-secondary text-center rounded p-2">
        <button class="divbtn" id="showDiv1">all users</button>
        <button class="divbtn" id="showDiv2">Active Users</button>
        <button class="divbtn" id="showDiv3">User Request&nbsp;
            {% if pending %}
            <span class="notification">&nbsp;{{pending}}&nbsp;</span>
            {% else %}

            {% endif %}
            </button>
        <button class="divbtn" id="showDiv4">Suspended Users</button>
        
     </div>
</div>  

<div  id="div1"> 
    <div class="container-fluid  px-4 "  style="padding-top: 90px;">
        <div class="row g-4">
            <div class="col-sm-12">
                <div class="bg-secondary text-center rounded p-4">            
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <h6 class="mb-0">USERS</h6>
                        
                    </div>
                    <div class="scrollable-div1">
                        <table class="table table-bordered">
                            <tr>
                                <th>ID</th>
                                <th>IMAGE</th>
                                <th>NAME</th>
                                
                                <th>EMAIL</th>
                                <th>STATUS</th>                
                            </tr>
                            {% for d in data1 %}
                            <tr>
                                
                                <td>{{d.0}}</td>
                                <td><img class="rounded-circle flex-shrink-0" src="{% static 'u_image/' %}{{ d.7 }}" alt="" style="width: 40px; height: 40px;"></td>
                                <td><a href="/a_user_account_info?id={{d.0}}">{{d.1}}</a></td>  
                                <td>{{d.3}}</td>

                                {% if d.6 == "a" %}
                                    <td>Active</td>
                                {% elif d.6 == "s" %}
                                    <td>Suspended</td>
                                {% else %}
                                    <td>Pending</td>  
                                {% endif %}  
                                                             
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div  id="div2"> 
    <div class="container-fluid  px-4 "  style="padding-top: 90px;">
        <div class="row g-4">
            <div class="col-sm-12">
                <div class="bg-secondary text-center rounded p-4">            
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <h6 class="mb-0">ACTIVE USERS</h6>
                         
                    </div>
                    <div class="scrollable-div1">
                        <table class="table table-bordered">
                            <tr>
                                <th>ID</th>
                                <th>IMAGE</th>
                                <th>NAME</th>
                                
                                <th>EMAIL</th>
                                 
                            </tr>
                            {% for d in data2 %}
                            <tr>
                                
                                <td>{{d.0}}</td>
                                <td><img class="rounded-circle flex-shrink-0" src="{% static 'u_image/' %}{{ d.7 }}" alt="" style="width: 40px; height: 40px;"></td>
                                <td><a href="/a_user_account_info?id={{d.0}}">{{d.1}}</a></td>  
                                <td>{{d.3}}</td>
                                                                                     
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div  id="div3"> 
    <div class="container-fluid  px-4 "  style="padding-top: 90px;">
        <div class="row g-4">
            <div class="col-sm-12">
                <div class="bg-secondary text-center rounded p-4">            
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <h6 class="mb-0">REQUESTS</h6>
                         
                    </div>
                    <div class="scrollable-div1">
                        <table class="table table-bordered">
                            <tr>
                                <th>ID</th>
                                <th>IMAGE</th>
                                <th>NAME</th>
                                
                                <th>EMAIL</th>
                                <th>ACTION</th>                
                            </tr>
                            {% for d in data3 %}
                            <tr>
                                
                                <td>{{d.0}}</td>
                                <td><img class="rounded-circle flex-shrink-0" src="{% static 'u_image/' %}{{ d.7 }}" alt="" style="width: 40px; height: 40px;"></td>
                                <td><a href="/a_user_account_info?id={{d.0}}">{{d.1}}</a></td>  
                                <td>{{d.3}}</td>
                                <td><a href="/a_request_user_approve?id={{d.0}}">approve</a></td>                                
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div  id="div4"> 
    <div class="container-fluid  px-4 "  style="padding-top: 90px;">
        <div class="row g-4">
            <div class="col-sm-12">
                <div class="bg-secondary text-center rounded p-4">            
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <h6 class="mb-0">USERS</h6>
                         
                    </div>
                    <div class="scrollable-div1">
                        <table class="table table-bordered">
                            <tr>
                                <th>ID</th>
                                <th>IMAGE</th>
                                <th>NAME</th>
                                
                                <th>EMAIL</th>
                                <th>ACTION</th>                
                            </tr>
                            {% for d in data4 %}
                            <tr>
                                
                                <td>{{d.0}}</td>
                                <td><img class="rounded-circle flex-shrink-0" src="{% static 'u_image/' %}{{ d.7 }}" alt="" style="width: 40px; height: 40px;"></td>
                                <td><a href="/a_user_account_info?id={{d.0}}">{{d.1}}</a></td>  
                                <td>{{d.3}}</td>
                                <td><a href="/a_request_user_reinstate?id={{d.0}}">reinstate</a></td>                               
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const showDiv1Btn = document.getElementById('showDiv1');
    const showDiv2Btn = document.getElementById('showDiv2');
    const showDiv3Btn = document.getElementById('showDiv3');
    const showDiv4Btn = document.getElementById('showDiv4');

    const div1 = document.getElementById('div1');
    const div2 = document.getElementById('div2');
    const div3 = document.getElementById('div3');
    const div4 = document.getElementById('div4');

    div1.classList.remove('hidden');
    div2.classList.add('hidden');
    div3.classList.add('hidden');
    div4.classList.add('hidden');
    
    
    
    showDiv1Btn.addEventListener('click', function() {
        div1.classList.remove('hidden');
        div2.classList.add('hidden');
        div3.classList.add('hidden');
        div4.classList.add('hidden');
            
    });

    showDiv2Btn.addEventListener('click', function() {
        div1.classList.add('hidden');
        div2.classList.remove('hidden');
        div3.classList.add('hidden');
        div4.classList.add('hidden');
        
    });
    showDiv3Btn.addEventListener('click', function() {
        div1.classList.add('hidden');
        div2.classList.add('hidden');
        div3.classList.remove('hidden');
        div4.classList.add('hidden');
        
    });
    showDiv4Btn.addEventListener('click', function() {
        div1.classList.add('hidden');
        div2.classList.add('hidden');
        div3.classList.add('hidden');
        div4.classList.remove('hidden');
        
    });
</script>
{% endblock %}